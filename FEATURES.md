# 기능 상세 설명

## 📊 대시보드 개요

TEAZEN 검색 트렌드 캘린더는 2년간의 키워드 검색량 데이터를 분석하여 **평균 대비 상승폭**이 가장 큰 키워드를 시각화하는 대시보드입니다.

---

## 1. 월 선택 (Calendar Header)

### 기능
- **연도 선택**: 화살표 버튼으로 연도 변경
- **월 선택**: 1월~12월 버튼으로 원하는 월 선택
- **현재 시간**: 데이터 업데이트 시간 표시

### 사용 방법
1. 연도 옆의 화살표 버튼(< >)으로 연도 변경
2. 12개의 월 버튼 중 하나를 클릭
3. 선택된 월은 어두운 배경으로 강조 표시

### 기술적 특징
- 반응형 디자인으로 모바일 환경 지원
- 실시간 날짜/시간 표시
- 부드러운 애니메이션 효과

---

## 2. AI 인사이트 (AI Insight)

### 기능
- 선택된 월에 **평균 대비 상승폭**이 가장 큰 키워드 자동 분석
- GPT-4o-mini를 활용한 인사이트 생성
- 검색량 급증 원인 추론

### 인사이트 생성 로직

```
1. 모든 키워드의 전체 기간 평균 검색량 계산
2. 선택된 월의 검색량과 평균 비교
3. 상승폭(%) = ((현재 검색량 - 평균) / 평균) × 100
4. 가장 높은 상승폭을 보인 키워드 선택
5. GPT API로 인사이트 생성
```

### 표시 내용
- **키워드명**: 상승폭 1위 키워드
- **상승률**: 평균 대비 몇 % 상승했는지
- **분석**: 상승 원인 및 트렌드 분석

### 예시

```
도미노피자 7월 도미노피자의 검색량이 평균 대비 461% 상승했습니다. 
여름 휴가철을 맞아 배달 피자 수요가 급증했으며, 
7월 한정 프로모션의 영향으로 분석됩니다.
```

### 기술적 특징
- OpenAI GPT-4o-mini API 사용
- 로딩 상태 표시
- API 호출 실패 시 기본 인사이트 제공
- 비동기 처리로 사용자 경험 향상

---

## 3. 키워드 선택 (Keyword Selector)

### 기능
- 선택된 월의 상승폭 상위 키워드 표시 (기본 20개)
- 키워드별 **이전 달 대비 상승률** 표시
- 키워드별 **검색량** 표시
- 다중 선택 가능
- 스크롤 지원

### 표시 정보

#### 선택되지 않은 키워드
```
[키워드명]  ↑ +45%
```

#### 선택된 키워드
```
[키워드명]  ↑ +45%
1,234,567건
```

### 색상 시스템

각 키워드는 순서대로 고유한 색상을 자동 할당:

| 순서 | 색상 | 용도 |
|------|------|------|
| 1번 | 보라 (#8B7FD8) | 첫 번째 키워드 |
| 2번 | 초록 (#7ED957) | 두 번째 키워드 |
| 3번 | 주황 (#FF8C42) | 세 번째 키워드 |
| ... | ... | ... |

총 10가지 색상이 반복 사용됩니다.

### 상승률 계산

```typescript
이전 달 대비 상승률(%) = ((현재 월 검색량 - 이전 월 검색량) / 이전 월 검색량) × 100
```

### 상호작용
- 클릭: 키워드 선택/해제
- 스크롤: 더 많은 키워드 보기
- "더보기" 버튼: 전체 키워드 목록 펼치기/접기

### 기술적 특징
- 최대 600px 높이로 스크롤 가능
- 키워드별 색상이 차트와 동기화
- 반응형 레이아웃
- 부드러운 호버 효과

---

## 4. 검색량 추이 차트 (Trend Chart)

### 기능
- 선택한 키워드들의 검색량 추이 시각화
- 6개월/1년/2년 단위 조회
- 인터랙티브 툴팁
- 성별/연령대 정보 표시

### 차트 유형
- **Area Chart**: 영역 차트로 추세 강조
- **다중 키워드**: 최대 제한 없이 동시 표시
- **그라데이션**: 각 키워드별 그라데이션 효과

### 기간 선택
- **6개월**: 최근 6개월 추이
- **1년**: 최근 12개월 추이
- **2년**: 최근 24개월 추이

### 툴팁 정보

차트에 마우스를 올리면 다음 정보 표시:

```
2025.07
━━━━━━━━━━━━━━━
● 도미노피자  1,234,567
● 쿠팡이츠    987,654

도미노피자 상세 정보
━━━━━━━━━━━━━━━
남성: 38.2%
여성: 61.8%

연령대별
━━━━━━━━━━━━━━━
12세 이하: 0.0%
13~19세: 1.9%
20~24세: 4.8%
25~29세: 10.7%
30~39세: 31.5%
40~49세: 32.5%
50세 이상: 18.6%
```

### 성별 비율 표시

차트 상단에 선택한 키워드들의 **평균** 성별 비율 표시:

```
● 남성 42.5%  ● 여성 57.5%
```

### Y축 형식
- 1,000,000 이상: "1.5M"
- 1,000 이상: "500K"
- 1,000 미만: 숫자 그대로

### X축 형식
- "YYYY.MM" 형식 (예: 2025.07)
- 45도 각도로 표시하여 가독성 향상

### 기술적 특징
- Recharts 라이브러리 사용
- 반응형 차트 (ResponsiveContainer)
- 커스텀 툴팁 컴포넌트
- 키워드별 독립적인 그라데이션
- 부드러운 곡선 (monotone)
- 마우스 오버 시 점(dot) 강조

---

## 5. 데이터 처리

### CSV 파싱
- 파일 위치: 프로젝트 루트의 `date-set-calendar.csv`
- 브라우저에서 직접 fetch하여 클라이언트 측에서 파싱
- UTF-8 인코딩 지원

### 캐싱 전략
- 첫 로딩 시 한 번만 CSV 파일 읽기
- 메모리에 데이터 보관
- 월 변경 시 재계산만 수행

### 성능 최적화
- 필요한 데이터만 렌더링
- useMemo/useCallback 활용
- 불필요한 리렌더링 방지

---

## 6. 반응형 디자인

### 브레이크포인트

| 화면 크기 | 레이아웃 |
|-----------|----------|
| 모바일 (~768px) | 세로 1열 |
| 태블릿 (768px~1024px) | 키워드 좁게, 차트 넓게 |
| 데스크톱 (1024px~) | 키워드 320px, 차트 나머지 |

### 모바일 최적화
- 터치 친화적 버튼 크기
- 스크롤 가능한 영역 명확히 표시
- 차트 인터랙션 모바일 지원

---

## 7. 사용자 경험 (UX)

### 로딩 상태
- CSV 로딩 중: 스피너 + "데이터를 불러오는 중..."
- AI 인사이트 생성 중: 작은 스피너 + "AI 인사이트 생성 중..."

### 에러 처리
- CSV 로드 실패: 빈 데이터 객체로 대체
- API 호출 실패: 기본 인사이트 제공
- 데이터 없음: 적절한 메시지 표시

### 애니메이션
- 버튼 호버: 부드러운 배경색 전환
- 차트 로딩: 페이드인 효과
- 월 선택: 즉각적인 피드백

### 접근성
- 시맨틱 HTML 사용
- 적절한 색상 대비
- 키보드 네비게이션 지원
- ARIA 레이블 (향후 개선 예정)

---

## 8. 확장 가능성

### 추가 가능한 기능
1. **키워드 비교 모드**: 두 기간의 키워드 비교
2. **내보내기**: 차트를 이미지/PDF로 저장
3. **알림**: 특정 키워드 상승 시 알림
4. **필터링**: 업종별, 검색량별 필터
5. **예측**: AI 기반 미래 트렌드 예측
6. **공유**: 특정 월/키워드 조합 URL 공유
7. **즐겨찾기**: 자주 보는 키워드 저장
8. **대시보드**: 여러 차트를 한 화면에

### 데이터 확장
- 더 많은 연령대 세분화
- 지역별 데이터
- 디바이스별 데이터 (PC/모바일)
- 검색 유입 경로

---

## 9. 보안 및 프라이버시

### API 키 보호
- 환경 변수로 관리
- 서버 측에서만 API 호출
- 클라이언트에 노출되지 않음

### 데이터 보안
- HTTPS 통신
- XSS 방지
- CSRF 토큰 (Next.js 자동 처리)

---

## 10. 브라우저 지원

### 최소 요구사항
- Chrome/Edge: 최신 버전
- Firefox: 최신 버전
- Safari: 14 이상
- 모바일: iOS 14 이상, Android 8 이상

### 폴리필
- Next.js가 자동으로 필요한 폴리필 추가

